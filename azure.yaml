# yaml-language-server: $schema=https://raw.githubusercontent.com/Azure/azure-dev/main/schemas/v1.0/azure.yaml.json

name: s2s-realtime-nbk
metadata:
  template: s2s-realtime-nbk@0.0.1-beta

services:
  backend:
    project: .
    language: python
    host: containerapp
    docker:
      path: Dockerfile
      context: .

infra:
  provider: bicep
  path: .
  module: main

hooks:
  postprovision:
    windows:
      shell: pwsh
      run: ./infra/hooks/postprovision.ps1
      continueOnError: false
    posix:
      shell: sh
      run: |
        echo "Post-provision hook not implemented for Linux/Mac yet"
        echo "Please run: python scrape_nbk.py manually"
